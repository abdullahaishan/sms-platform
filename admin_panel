module.exports = function(bot, supabase) {
  const ADMIN_IDS = [123456789]; // Ø¶Ø¹ Telegram ID Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ ÙƒÙ…Ø´Ø±Ù

  async function isAdmin(chatId) {
    return ADMIN_IDS.includes(chatId);
  }

  bot.on("callback_query", async (query) => {
    const chatId = query.message.chat.id;
    const data = query.data;

    if (data === "admin_panel") {
      if (!(await isAdmin(chatId))) {
        return bot.sendMessage(chatId, "âŒ Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù„ÙˆØµÙˆÙ„ Ù„Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…");
      }

      const keyboard = [
        [{ text: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ù†ÙˆØ§Øª", callback_data: "manage_channels" }],
        [{ text: "Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†", callback_data: "manage_users" }],
        [{ text: "Ø¥Ø¶Ø§ÙØ© Ø£Ø±Ù‚Ø§Ù… Ù…Ø¯ÙÙˆØ¹Ø©", callback_data: "add_paid_number" }],
        [{ text: "Ø¹Ø±Ø¶ Ø§Ù„Ø·Ù„Ø¨Ø§Øª", callback_data: "view_orders" }],
        [{ text: "Ø§Ù„Ø¹ÙˆØ¯Ø© â†©ï¸", callback_data: "main_menu" }]
      ];
      return bot.sendMessage(chatId, "ğŸ’» Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:", { reply_markup: { inline_keyboard: keyboard } });
    }

    // Ø¨Ù‚ÙŠØ© Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙŠÙ…ÙƒÙ† ØªØ·ÙˆÙŠØ±Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ù†ÙØ³ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨
  });
};
